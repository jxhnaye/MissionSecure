/* ===== Theme (dark default) ===== */
:root{
  --bg-1:#0f111a; --bg-2:#1b1f3b; --text:#e9e9ef; --muted:#a3a7b3;
  --border:#ffffff1e; --primary:#7c5cff; --primary-2:#6a8dff;
  --panel: color-mix(in oklab, white 6%, transparent);
}
:root[data-theme="light"]{
  --bg-1:#f6f7fb; --bg-2:#e7ecff; --text:#17181c; --muted:#4b4f58;
  --border:#0000001a; --panel: color-mix(in oklab, black 4%, white 92%);
}

*{ box-sizing:border-box }
html, body, #root{ height:100%; margin:0 }
body{
  color:var(--text);
  font:16px/1.55 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(farthest-corner at 15% 10%, var(--bg-2) 0%, var(--bg-1) 100%);
}

/* Layout */
#root{ min-height:100svh; display:flex; flex-direction:column }
.page{ flex:1; display:flex; flex-direction:column; position:relative }

/* Subtle background watermarks */
.bg-logo{
  position:fixed; top:-40px; right:-60px; width:min(30vw, 260px); height:min(30vw, 260px);
 
  opacity:.05; filter: grayscale(100%);
  mix-blend-mode: lighten;
  pointer-events:none; z-index:0;
}
.bg-vite{
  position:fixed; bottom:-40px; left:-60px; width:min(26vw, 220px); height:min(26vw, 220px);
  opacity:.06; filter: grayscale(100%);
  mix-blend-mode: lighten;
  pointer-events:none; z-index:0;
}
:root[data-theme="light"] .bg-logo,
:root[data-theme="light"] .bg-vite{ mix-blend-mode:multiply; opacity:.07 }

.wrap{
  position:relative;
  max-width:1080px;
  width: min(1080px, calc(100% - 48px));
  margin: 96px auto 40px;
  z-index: 1;
}

/* Top bar */
.topbar{
  position:fixed; inset:0 0 auto 0; z-index:10;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:10px clamp(12px,4vw,24px);
  background: linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,0));
  backdrop-filter: blur(4px);
}
.brand{ display:flex; align-items:center; gap:10px }
.logo{ height:22px; aspect-ratio:1; color:var(--text); opacity:.9 }
.logo.vite{ height:18px; opacity:.9; vertical-align:middle }
.brand h2{ margin:0; font-size:1.05rem; letter-spacing:.2px }
.by{ color:var(--muted); font-weight:600; margin-left:.35rem }
.powered{ color:var(--muted); font-weight:600; margin-left:.4rem; display:inline-flex; gap:.35rem; align-items:center }
.powered .dot{ opacity:.5 }

/* Hero logos on landing */
.hero-logos{ display:flex; align-items:center; gap:10px; margin-bottom:.5rem }
.hero-logo{ height:48px; opacity:.9 }
.hero-logo.vite{ height:42px; opacity:.95 }
.hero-logos .x{ color:var(--muted); opacity:.7 }

/* Persistent corner badge */
.corner-badge{
  position:fixed; right:12px; bottom:12px; width:40px; height:40px;
  opacity:.55; filter: drop-shadow(0 3px 8px rgba(0,0,0,.25));
  pointer-events:none; z-index:1000;
}
:root[data-theme="light"] .corner-badge{ opacity:.45 }

/* Toggle */
.theme-toggle{ position:relative; width:56px; height:30px }
.theme-toggle input{ display:none }
.theme-toggle label{
  display:grid; grid-template-columns:1fr 1fr; align-items:center; justify-items:center;
  width:100%; height:100%; border-radius:999px; cursor:pointer;
  background:linear-gradient(135deg, #20263f, #151a2f);
  border:1px solid var(--border); position:relative;
}
:root[data-theme="light"] .theme-toggle label{
  background:linear-gradient(135deg, #e9edff, #dfe5ff);
}
.theme-toggle label::after{
  content:""; position:absolute; width:26px; height:26px; border-radius:50%;
  background:#fff; top:1px; left:1px; transition:transform .18s ease;
  box-shadow:0 2px 6px rgba(0,0,0,.25);
}
.theme-toggle input:checked + label::after{ transform: translateX(26px) }
.theme-toggle .sun,.theme-toggle .moon{ font-size:14px; opacity:.85 }

/* Landing text */
.title{ margin:0 0 .25rem; font-size:clamp(1.8rem, 1.2rem + 2.5vw, 3rem) }
.lead{ color:var(--muted); margin:.25rem 0 1rem }

/* Buttons/links */
.cta{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.btn{
  appearance:none; border:1px solid var(--border); background:var(--panel);
  color:var(--text); border-radius:12px; padding:.8rem 1.1rem; font-weight:700; cursor:pointer;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease, border-color .12s;
}
.btn:active{ transform: translateY(1px) scale(.99) }
.btn--primary{
  color:#fff; border-color: transparent;
  background-image: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: 0 8px 20px rgba(124,92,255,.35);
}
.btn--primary:hover{ filter: brightness(1.06) }
.btn--ghost:hover{ border-color: color-mix(in oklab, var(--text) 14%, transparent) }
.link{ background:none; border:none; color:var(--primary-2); cursor:pointer; font-weight:600 }

/* Quiz */
.quiz-head{ display:flex; justify-content:space-between; align-items:center; margin: .5rem 0 1rem }
.progress{ color:var(--muted) }
.q{ margin:.25rem 0 1rem }
.options{ display:grid; gap:10px }
.option{
  text-align:left; border:1px solid var(--border); background:var(--panel); color:var(--text);
  border-radius:12px; padding:.9rem 1rem; cursor:pointer;
  transition: border-color .15s ease, transform .12s ease;
}
.option:hover{ border-color: color-mix(in oklab, var(--text) 18%, transparent); transform: translateY(-1px) }

/* Results */
.score__num{ font-size: clamp(2.2rem, 1.4rem + 4vw, 4.2rem); font-weight: 900; margin: .2rem 0 .5rem }
.score__bar{ width:100%; height:14px; border-radius:999px; background: #00000026; overflow:hidden; border:1px solid var(--border) }
.score__fill{ height:100% }
.score__legend{ color:var(--muted); margin:.5rem 0 0 }
.mt{ margin-top: 1rem }
.notes{ margin:.25rem 0 0; padding-left:1rem }
.notes li{ margin:.25rem 0 }

/* Modal with "bubble" card */
.modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.45); z-index:22 }
.modal__card{
  width:min(720px, calc(100% - 48px));
  background:var(--panel); border:1px solid var(--border); border-radius:18px;
  box-shadow:0 12px 32px rgba(0,0,0,.35); padding:1rem 1.25rem; position:relative;
}
.modal__head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:.5rem }
.about-brand{ display:flex; align-items:center; gap:10px }
.about-brand img{ height:22px }
.about-brand img.vite{ height:20px }
.about-brand .x{ color:var(--muted); opacity:.7 }
.bubble{ border-radius:18px; }
.bubble::after{
  content:""; position:absolute; bottom:-16px; left:24px; width:28px; height:18px;
  background: var(--panel); border-left:1px solid var(--border); border-bottom:1px solid var(--border);
  border-bottom-left-radius: 18px; transform: skewX(-28deg);
}
.about-list{ margin:.25rem 0 0 1rem }

/* Confetti (cascading full-height, overlays EVERYTHING) */
.confetti{
  pointer-events:none; position:fixed; inset:0;
  z-index:2147483647; /* on top of all */
}
.confetti i{
  position:fixed; top:-16px;
  background: currentColor;
  will-change: transform;
  transform: rotate(var(--rot, 0));
  animation:
    confetti-fall var(--dur, 5s) cubic-bezier(.20,.70,.20,1) forwards,
    confetti-sway var(--sway, 1.6s) ease-in-out infinite alternate;
}
.confetti i:nth-child(4n){ color:#6a8dff }
.confetti i:nth-child(4n+1){ color:#7c5cff }
.confetti i:nth-child(4n+2){ color:#2bd67b }
.confetti i:nth-child(4n+3){ color:#ffcc66 }

/* Overshoot the viewport so every piece goes fully off-screen */
@keyframes confetti-fall {
  to { transform: translateY(140svh) rotate(1.25turn) }
}
@keyframes confetti-sway {
  from { transform: translateX(0) rotate(var(--rot, 0)) }
  to   { transform: translateX(var(--sx, 28px)) rotate(calc(var(--rot, 0) + 45deg)) }
}

/* Print styles: clean one-page PDF */
.print-only{ display:none }
.screen-only{ display:initial }

@media print {
  @page { size: Letter; margin: 12mm }
  :root{ color-scheme: light }
  body{
    background: #fff !important;
    color: #111 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
  .topbar, .theme-toggle, .btn, .link, .modal, .confetti, .corner-badge, .bg-logo, .bg-vite { display: none !important }
  .screen-only{ display:none !important }
  .print-only{ display:block !important }
  .wrap{ margin: 0 auto !important; width: 100% !important; max-width: 7.5in }
  .score__bar{ border-color: #ddd; background: #eee }
  .score__legend{ color: #555 }
  .notes{ color: #111 }
  .report-brand{ display:flex; align-items:center; gap:12px; margin-bottom:8px }
  .report-brand img{ height:22px }
  .report-brand .report-vite{ height:20px }
}

/* Print header text */
.report-head h1{ margin: 0 0 .25rem }
.report-head p{ margin: 0; color: #666 }
